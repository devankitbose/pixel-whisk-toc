!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector('[data-toc="wrapper"]');if(!e)return;const o=(n=e.hasAttribute("data-toc-debug"),n?function(t,e="info"){"error"===e?console.error("[TOC]",t):"warn"===e?console.warn("[TOC]",t):console.log("[TOC]",t)}:()=>{});var n;o("TOC initialized");const r=e.querySelector('[data-toc="content"]'),i=e.querySelector('[data-toc="list"]'),a=e.querySelector('[data-toc="item"]');if(!r)return void o('Missing [data-toc="content"] inside [data-toc="wrapper"]',"error");if(!i)return void o('Missing [data-toc="list"] inside [data-toc="wrapper"]',"error");if(!a)return void o('Missing [data-toc="item"] template inside [data-toc="list"]',"error");const c=e.getAttribute("data-toc-headings")||"h2,h3";o("Using heading selector: "+c);const s=e.getAttribute("data-toc-active-class")||"is-active",d=e.getAttribute("data-toc-sticky-nav");d&&o("Sticky nav selector: "+d);const l=r.querySelectorAll(c);if(!l.length)return void o("No headings found using selector: "+c,"warn");a.style.display="none";const u=[];l.forEach((e,n)=>{e.id||(e.id=function(t,e){return"toc-"+t.toLowerCase().trim().replace(/[^\w]+/g,"-")+"-"+e}(e.innerText,n),o("Generated ID for heading: "+e.id));const r=a.cloneNode(!0),c=r.querySelector('[data-toc="text"]');r.removeAttribute("style"),r.setAttribute("href","#"),c?c.textContent=e.innerText:o('Missing [data-toc="text"] inside [data-toc="item"]',"warn"),r.addEventListener("click",(function(n){n.preventDefault();const r=t(d,o);!function(t,e){const o=t.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:o,behavior:"smooth"})}(e,r)})),i.appendChild(r),u.push({heading:e,item:r})}),function(e,o,n,r){const i=t(n,r),a=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&e.forEach(({heading:e,item:n})=>{n.classList.toggle(o,e===t.target)})})},{rootMargin:`-${i}px 0px -70% 0px`,threshold:0});e.forEach(({heading:t})=>a.observe(t)),r("Scroll spy initialized")}(u,s,d,o)}));function t(t,e){if(!t)return 24;const o=document.querySelector(t);return o?o.offsetHeight:(e("Sticky nav not found for selector: "+t,"warn"),24)}}()
